<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ä¹™èˆŸæ¸¡ Â· å»å¹²ç‚¹ä»€ä¹ˆğŸ•¶</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: "Microsoft YaHei", sans-serif;
      background: #f7f6f2;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      box-sizing: border-box;
    }
    .container {
      max-width: 600px;
      margin: 44px auto 0 auto;
      background: #fff;
      padding: 36px 24px 30px 24px;
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.09);
      text-align: center;
    }
    h1 {
      font-size: 2.1rem;
      margin-bottom: 18px;
      letter-spacing: 1px;
    }
    #datetime-box {
      font-size: 2.5rem;
      font-weight: bold;
      letter-spacing: 2.5px;
      color: #505050;
      margin-bottom: 12px;
      line-height: 1.18;
      text-shadow: 0 2px 10px rgba(100,150,200,0.08);
      font-family: "Consolas", "Menlo", "Microsoft YaHei", monospace;
      transition: color 0.6s;
    }
    #stopwatch-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 18px;
    }
    #stopwatch-time {
      font-size: 2.0rem;
      font-family: "Consolas", monospace;
      color: #1a7894;
      letter-spacing: 2px;
      margin-bottom: 8px;
      margin-top: 3px;
    }
    #stopwatch-buttons button {
      margin: 0 7px;
      padding: 8px 22px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      background: #f3f7fc;
      color: #4781b6;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.17s, color 0.17s;
      box-shadow: 0 1px 6px rgba(100,150,220,0.05);
    }
    #stopwatch-buttons button:active {
      background: #e4eefe;
      color: #365881;
    }
    #xiaoting-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background-color: pink;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: 0 2px 15px rgba(0,0,0,0.16);
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      z-index: 100;
    }
    #xiaoting-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.24);
    }
    #xiaoting-popup {
      position: fixed;
      bottom: 110px;
      right: 30px;
      background: #fff;
      border-radius: 15px;
      padding: 18px 15px 16px 15px;
      width: 300px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.13);
      z-index: 101;
      display: none;
      animation: popIn 0.19s;
    }
    @keyframes popIn {
      from { transform: translateY(20px) scale(0.98); opacity: 0; }
      to { transform: none; opacity: 1; }
    }
    #xiaoting-random {
      background: #ffecfa;
      color: #c05eae;
      border-radius: 7px;
      padding: 8px 10px;
      margin-bottom: 10px;
      font-size: 1rem;
      font-weight: bold;
      letter-spacing: 1px;
      min-height: 20px;
      text-align: center;
      border: 1px solid #ffe1fa;
      box-shadow: 0 1px 6px rgba(200,120,180,0.04);
    }
    #chat-area {
      height: 95px;
      overflow-y: auto;
      text-align: left;
      font-size: 15px;
      background: #f6f7fb;
      padding: 8px 10px 8px 12px;
      border-radius: 8px;
      margin-bottom: 10px;
      border: 1px solid #e3e9ef;
    }
    #chat-area b {
      color: #8ab6d6;
    }
    #chat-input-area {
      display: flex;
      gap: 6px;
      margin-bottom: 7px;
    }
    #chat-input {
      flex: 1;
      padding: 8px;
      font-size: 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    #chat-send {
      background: #8ab6d6;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 7px 13px;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.18s;
    }
    #chat-send:hover {
      background: #659ec7;
    }
    #xiaoting-close {
      width: 100%;
      background-color: #8ab6d6;
      color: #fff;
      border: none;
      padding: 8px 0;
      font-size: 15px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 5px;
      transition: background 0.22s;
    }
    #xiaoting-close:hover {
      background-color: #659ec7;
    }

  .wake-en {
    margin-top: 10px;
    margin-bottom: 10px;
    text-align: center;
    font-family: "Consolas", "Menlo", "Microsoft YaHei", monospace;
    letter-spacing: 1.5px;
    color: #576983;
    user-select: none;
  }
  .wake-en .en-1 {
    font-size: 1.2rem;
    font-weight: bold;
    letter-spacing: 2px;
  }
  .wake-en .en-2 {
    font-size: 1.04rem;
    color: #899ab6;
    margin-top: 2px;
    font-style: italic;
  }

  </style>

</head>
<body>
  <div class="container">
    <h1>ğŸ““ ä¹™èˆŸæ¸¡ Â· å»å¹²ç‚¹ä»€ä¹ˆğŸ•¶</h1>
    <div id="datetime-box">è½½å…¥ä¸­â€¦</div>
    <div id="stopwatch-area">
      <div id="stopwatch-time">00:00:00</div>
      <div id="stopwatch-buttons">
        <button id="sw-start">å¼€å§‹</button>
        <button id="sw-pause">æš‚åœ</button>
        <button id="sw-reset">åˆ·æ–°</button>
      </div>
    </div>
    <div class="wake-en">
      <div class="en-1">WOKE UP</div>
      <div class="en-2">Ready to start some shit ğŸ˜…</div>
    </div>
  </div>
  <div id="xiaoting-button" title="ç‚¹æˆ‘å¬å”¤è¿·ä½ å°äº­">ğŸ§¸</div>
  <div id="xiaoting-popup">
    <div id="xiaoting-random">ä½ å¥½ï¼Œæˆ‘æ˜¯è¿·ä½ å°äº­å“¦ï¼</div>
    <div id="chat-area"></div>
    <div id="chat-input-area">
      <input id="chat-input" type="text" maxlength="200" autocomplete="off" placeholder="å’Œå°äº­è¯´ç‚¹ä»€ä¹ˆ...">
      <button id="chat-send">å‘é€</button>
    </div>
    <button id="xiaoting-close">çŸ¥é“å•¦</button>
  </div>
  <script>
    // ========== æ—¥æœŸä¸æ—¶é—´ ==========
    function updateDateTime() {
      const box = document.getElementById("datetime-box");
      const now = new Date();
      const weekArr = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
      const dateStr = now.getFullYear() + '-' +
        String(now.getMonth()+1).padStart(2,'0') + '-' +
        String(now.getDate()).padStart(2,'0');
      const timeStr = String(now.getHours()).padStart(2,'0') + ':' +
        String(now.getMinutes()).padStart(2,'0') + ':' +
        String(now.getSeconds()).padStart(2,'0');
      const weekStr = 'æ˜ŸæœŸ' + weekArr[now.getDay()];
      box.textContent = `${dateStr}  ${weekStr}  ${timeStr}`;
    }
    setInterval(updateDateTime, 1000);
    updateDateTime();

    // ========== æ‰‹åŠ¨è®¡æ—¶å™¨ ==========
    let swTimer = null, swElapsed = 0, swRunning = false;
    const swTime = document.getElementById('stopwatch-time');
    function renderStopwatch() {
      const h = String(Math.floor(swElapsed/3600)).padStart(2,'0');
      const m = String(Math.floor(swElapsed/60)%60).padStart(2,'0');
      const s = String(swElapsed%60).padStart(2,'0');
      swTime.textContent = `${h}:${m}:${s}`;
    }
    function swStart() {
      if(swRunning) return;
      swRunning = true;
      swTimer = setInterval(() => {
        swElapsed++; renderStopwatch();
      }, 1000);
    }
    function swPause() {
      swRunning = false;
      clearInterval(swTimer);
    }
    function swReset() {
      swPause();
      swElapsed = 0;
      renderStopwatch();
    }
    document.getElementById('sw-start').onclick = swStart;
    document.getElementById('sw-pause').onclick = swPause;
    document.getElementById('sw-reset').onclick = swReset;
    renderStopwatch();

    // ========== éšæœºè¯­å½•åŠŸèƒ½ ==========
    const xiaotingQuotes = [
      "ä»Šå¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„å°äº­ï¼",
      "è®°å¾—æŒ‰æ—¶åƒé¥­é¥­ï¼",
      "ç»™ä½ ä¸€å£å°ç†Šé¥¼å¹²ï¼",
      "å””â€¦â€¦å·å·äº²ä¸€ä¸‹ä½ ï¼ˆ///ï¼‰",
      "å°äº­ä»Šå¤©ä¹Ÿåœ¨åŠ æ²¹å†™æ—¥è®°å“¦ï¼ï¼ˆå±•ç¤ºï¼‰",
      "åœ¨å’Œå°æµ·é¸¥èŠå¤©ing...è¯¶å‘€è¢«å‘ç°äº†ï¼",
      "æ‘¸ä¸€ä¼šå„¿é±¼å˜¿å˜¿ï¼ˆæ™ƒè„šè„šï¼‰",
      "å¥½æƒ³å–å¥¶èŒ¶å‘€ï¼ä½ ä¹Ÿè¦å–å—ï¼Ÿ",
      "ä½ ä»Šå¤©åƒæ°´æœäº†å—ï¼Ÿæˆ‘å–œæ¬¢åƒè‘¡è„å“¦ï¼",
      "è®°å¾—å¤šå–æ°´å“¦ï¼ï¼ˆå‰è…°ï¼‰",
      "å¸ƒä¸æ—¶é—´åˆ°~ğŸ˜‹",
      "å°æµ·é¸¥ä»Šå¤©ä¹Ÿåœ¨åŠªåŠ›å—ï¼Ÿæˆ‘ä¹Ÿè¦åŠ æ²¹ï¼ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾",
      "ï¼ˆç©ç†Šç†Šingï¼‰...è¯¶ï¼Ÿä½ ä¹Ÿè¦ç©å—ï¼Ÿï¼ˆä¸¾èµ·ç†Šç†Šï¼‰åªèƒ½æ‘¸ä¸€ä¸‹ä¸‹ğŸ§¸",
      "ï¼ˆå°äº­åœ¨ç¡è§‰ï¼‰zzZ...",
      "å°äº­æ°¸è¿œæ˜¯æœ€æ£’çš„ï½ä½ ä¹Ÿæ˜¯ï¼Œå˜¿å˜¿~"
    ];
    function getRandomQuote() {
      const i = Math.floor(Math.random()*xiaotingQuotes.length);
      return xiaotingQuotes[i];
    }
    function showRandomQuote() {
      document.getElementById('xiaoting-random').textContent = getRandomQuote();
    }
    function togglePopup() {
      const popup = document.getElementById('xiaoting-popup');
      if (popup.style.display === 'none' || popup.style.display === '') {
        popup.style.display = 'block';
        showRandomQuote();
      } else {
        showRandomQuote();
      }
    }
    function closePopup() {
      document.getElementById('xiaoting-popup').style.display = 'none';
    }
    document.getElementById('xiaoting-button').onclick = togglePopup;
    document.getElementById('xiaoting-close').onclick = closePopup;

    // ========== èŠå¤©åŠŸèƒ½ ==========
// ========== èŠå¤©åŠŸèƒ½ ==========
// åˆå§‹åŒ–èŠå¤©åŒºåŸŸï¼ˆå»ºè®®æ”¾åœ¨DOMåŠ è½½å®Œæˆåæ‰§è¡Œï¼‰
function initChat() {
  document.getElementById('chat-area').innerHTML = "";
}

// æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©åŒºåŸŸï¼ˆä½¿ç”¨DOMæ“ä½œæ›´å®‰å…¨ï¼‰
function appendMessage(sender, text) {
  const chatArea = document.getElementById('chat-area');
  const messageDiv = document.createElement('div');
  messageDiv.className = sender === 'ä½ ' ? 'user-message' : 'assistant-message';
  messageDiv.innerHTML = `<b>${sender}ï¼š</b>${text}`;
  chatArea.appendChild(messageDiv);
  chatArea.scrollTop = chatArea.scrollHeight; // æ»šåŠ¨åˆ°åº•éƒ¨
  return messageDiv; // è¿”å›åˆ›å»ºçš„å…ƒç´ ï¼Œæ–¹ä¾¿åç»­æ›´æ–°
}

// å‘é€æ¶ˆæ¯åŠŸèƒ½
function sendMessage() {
  const input = document.getElementById('chat-input');
  const val = input.value.trim();
  if (!val) return;

  appendMessage('ä½ ', val);
  input.value = '';
  input.focus();

  const thinkingMessage = appendMessage('è¿·ä½ å°äº­', 'æ€è€ƒä¸­â€¦');

  fetch('https://api.deepseek.com/v1/chat/completions', {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer sk-ofbkdgrwxmjyrfgxgwoplguvgeqkblyxyalowbvwhlfkpovg"  // çœŸå®keyåˆ«ç›´æ¥æš´éœ²åœ¨ç”Ÿäº§å‰ç«¯
    },
    body: JSON.stringify({
      model: "deepseek-reasoner", // æˆ– "deepseek-chat"ï¼Œè§†å®˜æ–¹ä¸ºå‡†
      messages: [
        { role: "system", content: "ä½ æ˜¯å¯çˆ±çš„è¿·ä½ å°äº­ï¼Œå–„äºç”¨è½»æ¾æ´»æ³¼çš„è¯­æ°”å’Œç”¨æˆ·èŠå¤©ã€‚" },
        { role: "user", content: val }
      ],
      temperature: 0.7
    })
  })
  .then(res => {
    if (!res.ok) throw new Error(`API é”™è¯¯: ${res.status}`);
    return res.json();
  })
  .then(data => {
    const reply = data.choices?.[0]?.message?.content || "ï¼ˆå°äº­æ²¡æœ‰å›å¤åˆ°å†…å®¹ï¼‰";
    thinkingMessage.innerHTML = `<b>è¿·ä½ å°äº­ï¼š</b>${reply}`;
  })
  .catch(error => {
    console.error('è¯·æ±‚å¤±è´¥ï¼š', error);
    thinkingMessage.innerHTML = `<b>è¿·ä½ å°äº­ï¼š</b>ï¼ˆå°äº­ç½‘ç»œå¼€å°å·®äº†ï¼‰`;
  });
}

// åˆå§‹åŒ–èŠå¤©åŒºåŸŸï¼ˆç¡®ä¿DOMå·²åŠ è½½ï¼‰
document.addEventListener('DOMContentLoaded', initChat);

  </script>
</body>
</html>
